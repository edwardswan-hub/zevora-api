<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Zevora Wall</title>
<style>
body {
    font-family: -apple-system, BlinkMacSystemFont;
    background: #0f172a;
    color: white;
    text-align: center;
    padding: 40px;
}
input {
    padding: 10px;
    width: 300px;
}
button {
    padding: 10px 15px;
}
.card {
    background: #1e293b;
    padding: 15px;
    margin: 10px auto;
    width: 400px;
    border-radius: 8px;
}
</style>
</head>
<body>

<h1>Zevora Message Wall</h1>

<input id="msg" placeholder="Type something..." />
<button onclick="send()">Send</button>

<div id="list"></div>

<script>
async function load() {
    const res = await fetch("/api/messages");
    const data = await res.json();
    const list = document.getElementById("list");
    list.innerHTML = "";
    data.items.forEach(item => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerText = item.content;
        list.appendChild(div);
    });
}

async function send() {
    const input = document.getElementById("msg");
    await fetch("/api/messages?content=" + encodeURIComponent(input.value), {
        method: "POST"
    });
    input.value = "";
    load();
}

load();
</script>

</body>
</html>